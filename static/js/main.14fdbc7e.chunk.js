(this["webpackJsonpreact-esport"]=this["webpackJsonpreact-esport"]||[]).push([[0],{48:function(e,a,t){},49:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var c=t(1),n=t.n(c),s=t(40),r=t.n(s),i=(t(48),t(13)),l=(t(49),t(50),t(2)),u=t(4),o=t(14),d=t.n(o),j=t(0);var m=function(e){var a=Object(c.useState)({games:[{id:null,name:"",slug:""}],game_slug:null}),t=Object(i.a)(a,2),n=t[0],s=t[1],r={method:"GET",url:"https://khalil-el-azouzi.github.io/react-esport/api/videogames?",params:{token:"IwMa-JpTE1gsbo_2rN4vYHJxxWl--XWGfXZijGWRsmK6LvreaMA"},headers:{Accept:"application/json"}};Object(c.useEffect)((function(){d.a.request(r).then((function(e){s(Object(l.a)(Object(l.a)({},n),{},{games:e.data.map((function(e){return{id:e.id,name:e.name,slug:e.slug}}))}))})).catch((function(e){console.log(e)})),e.choosedGame(n.game_slug)}),[n.game_slug]);var o=Object(u.f)();function m(e){"teams"===e?o.push("/teams"):"leagues"===e&&o.push("/leagues")}return Object(j.jsx)("div",{className:"Navbar",children:Object(j.jsxs)("nav",{className:"navbar navbar-dark bg-info",children:[Object(j.jsxs)("a",{href:"/",className:"navbar-brand",children:[" ",Object(j.jsx)("h2",{children:"E-sport"})]}),Object(j.jsxs)("div",{className:"d-flex ml-auto",children:[Object(j.jsxs)("select",{className:"custom-select mr-2",onChange:function(e){s(Object(l.a)(Object(l.a)({},n),{},{game_slug:e.target.value})),localStorage.setItem("game",e.target.value)},defaultValue:"DEFAULT",children:[Object(j.jsx)("option",{value:"DEFAULT",children:" Choose a game... "},1),n.games.map((function(e){return Object(j.jsx)("option",{value:e.slug,children:e.name},e.id)}))]}),Object(j.jsx)("button",{type:"button",className:"btn btn-light mr-2",onClick:function(){return m("teams")},children:"TEAMS"}),Object(j.jsx)("button",{type:"button",className:"btn btn-light mr-2",onClick:function(){return m("leagues")},children:"LEAGUES"})]})]})})},b=(t(75),t.p+"static/media/defaultUrlIcone.4a24a1ae.png"),g=t(81),h=t(82),O=t(80),p=t(79);function x(e){var a,t=Object(c.useState)({leagues:[{id:null,image_url:"",name:""}],currentPage:1,pageSize:12,keyWord:""}),n=Object(i.a)(t,2),s=n[0],r=n[1],o={method:"GET",url:"https://khalil-el-azouzi.github.io/react-esport/api/leagues?",params:{token:"IwMa-JpTE1gsbo_2rN4vYHJxxWl--XWGfXZijGWRsmK6LvreaMA","search[name]":s.keyWord,page:s.currentPage,per_page:s.pageSize},headers:{Accept:"application/json"}},m={method:"GET",url:"https://khalil-el-azouzi.github.io/react-esport/api/videogames/"+e.gameId+"/leagues?",params:{token:"IwMa-JpTE1gsbo_2rN4vYHJxxWl--XWGfXZijGWRsmK6LvreaMA","search[name]":s.keyWord,page:s.currentPage,per_page:s.pageSize},headers:{Accept:"application/json"}},x=function(e){d.a.request(e).then((function(e){r(Object(l.a)(Object(l.a)({},s),{},{leagues:e.data}))})).catch((function(e){console.log(e)}))};function f(e){0!==s.leagues.length&&r((function(a){return Object(l.a)(Object(l.a)({},a),{},{currentPage:e})}))}function v(e){switch(e){case"next":r((function(e){return Object(l.a)(Object(l.a)({},e),{},{currentPage:e.currentPage+1})}));break;case"previous":r((function(e){return Object(l.a)(Object(l.a)({},e),{},{currentPage:e.currentPage-1})}));break;default:r((function(e){return Object(l.a)({},e)}))}}Object(c.useEffect)((function(){e.gameId&&"DEFAULT"!==e.gameId?x(m):x(o)}),[s.currentPage,e.gameId,s.keyWord]);var N=Object(u.f)();var k=new g.a;return k.pipe(Object(h.a)("target","value"),Object(O.a)(500),Object(p.a)()).subscribe((function(e){console.log(e),r(Object(l.a)(Object(l.a)({},s),{},{keyWord:e}))}),(function(e){console.log(e)})),Object(j.jsx)("div",{className:"League",children:Object(j.jsxs)("div",{className:"align-content-center",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(j.jsx)("h1",{className:"text-capitalize text-capitalize text-xl-center text-black-50 mt-3 mb-3",children:"Leagues"}),Object(j.jsx)("div",{className:"form-group mt-4 ",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Recherche...",onChange:function(e){k.next(e)}})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"row",children:null===(a=s.leagues)||void 0===a?void 0:a.map((function(e){return Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsxs)("div",{className:"card mt-3",children:[Object(j.jsx)("div",{className:"card-header",children:e.name}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("img",{width:200,height:150,src:e.image_url||b,alt:e.name})}),Object(j.jsx)("div",{className:"card-footer",children:Object(j.jsx)("button",{className:"btn btn-block btn-outline-info",onClick:function(){return a=e.id,void N.push("/leagues/"+a);var a},children:"D\xe9tails"})})]})},e.id)}))}),Object(j.jsx)("br",{}),Object(j.jsx)("footer",{className:"m-3",children:Object(j.jsx)("nav",{"aria-label":"...",className:"d-flex justify-content-center",children:Object(j.jsxs)("ul",{className:"pagination",children:[Object(j.jsx)("li",{className:1===s.currentPage?"page-item disabled":"page-item",children:Object(j.jsx)("button",{className:"page-link",tabIndex:"-1",onClick:function(){return v("previous")},children:"Previous"})}),Object(j.jsx)("li",{className:"page-item active",children:Object(j.jsx)("button",{className:"page-link",onClick:function(){return f(s.currentPage)},children:s.currentPage})}),Object(j.jsx)("li",{className:s.leagues.length<12?"page-item disabled hide":"page-item",children:Object(j.jsx)("button",{className:"page-link",onClick:function(){return f(s.currentPage+1)},children:s.currentPage+1})}),Object(j.jsx)("li",{className:s.leagues.length<12?"page-item hide disabled":"page-item",children:Object(j.jsx)("button",{className:"page-link",onClick:function(){return f(s.currentPage+2)},children:s.currentPage+2})}),Object(j.jsx)("li",{className:s.leagues.length<12?"page-item disabled":"page-item",children:Object(j.jsx)("button",{className:"page-link",tabIndex:"+1",onClick:function(){return v("next")},children:"Next"})})]})})})]})})}var f=t(18);t(76);var v=function(e){var a=Object(c.useState)({teams:[],currentSlug:null,currentPage:1,pageSize:12,keyWord:""}),t=Object(i.a)(a,2),n=t[0],s=t[1],r={method:"GET",url:"https://khalil-el-azouzi.github.io/react-esport/api/teams?",params:{token:"IwMa-JpTE1gsbo_2rN4vYHJxxWl--XWGfXZijGWRsmK6LvreaMA","search[name]":n.keyWord,page:n.currentPage,per_page:n.pageSize},headers:{Accept:"application/json"}},o=function(e){d.a.request(e).then((function(e){s(Object(l.a)(Object(l.a)({},n),{},{teams:e.data}))})).catch((function(e){console.log(e)}))};function m(e){0!==n.teams.length&&s((function(a){return Object(l.a)(Object(l.a)({},a),{},{currentPage:e})}))}function x(e){switch(e){case"next":s((function(e){return Object(l.a)(Object(l.a)({},e),{},{currentPage:e.currentPage+1})}));break;case"previous":s((function(e){return Object(l.a)(Object(l.a)({},e),{},{currentPage:e.currentPage-1})}));break;default:console.log("done")}}Object(c.useEffect)((function(){var a;e.gameSlug&&"DEFAULT"!==e.gameSlug?o((a=function(e){switch(e.gameSlug){case"league-of-legends":return"lol";case"cs-go":return"csgo";case"dota-2":return"dota2";case"cod-mw":return"codmw";case"r6-siege":return"r6siege";default:return e.gameSlug}}(e),{method:"GET",url:"https://khalil-el-azouzi.github.io/react-esport/api/"+a+"/teams?",params:{token:"IwMa-JpTE1gsbo_2rN4vYHJxxWl--XWGfXZijGWRsmK6LvreaMA","search[name]":n.keyWord,page:n.currentPage,per_page:n.pageSize},headers:{Accept:"application/json"}})):o(r)}),[n.currentPage,e.gameSlug,n.keyWord]);var f=Object(u.f)(),v=new g.a;return v.pipe(Object(h.a)("target","value"),Object(O.a)(500),Object(p.a)()).subscribe((function(e){s(Object(l.a)(Object(l.a)({},n),{},{keyWord:e}))}),(function(e){console.log(e)})),Object(j.jsx)("div",{className:"Team",children:Object(j.jsxs)("div",{className:"align-content-center",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(j.jsx)("h1",{className:"text-capitalize text-capitalize text-xl-center text-black-50 mt-3 mb-3",children:"Teams"}),Object(j.jsx)("div",{className:"form-group mt-4 ",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Recherche...",onChange:function(e){v.next(e)}})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"row",children:n.teams.map((function(e){return Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsxs)("div",{className:"card mt-3",children:[Object(j.jsx)("div",{className:"card-header",children:e.name}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("img",{width:100,height:150,src:e.image_url||b,alt:e.acronym})}),Object(j.jsx)("div",{className:"card-footer",children:Object(j.jsx)("button",{className:"btn btn-block btn-outline-info",onClick:function(){return a=e.id,void f.push("/teams/"+a);var a},children:"D\xe9tails"})})]})},e.id)}))}),Object(j.jsx)("br",{}),Object(j.jsx)("footer",{className:"m-3",children:Object(j.jsx)("nav",{"aria-label":"...",className:"d-flex justify-content-center",children:Object(j.jsxs)("ul",{className:"pagination",children:[Object(j.jsx)("li",{className:1===n.currentPage?"page-item disabled":"page-item",children:Object(j.jsx)("button",{className:"page-link",tabIndex:"-1",onClick:function(){return x("previous")},children:"Previous"})}),Object(j.jsx)("li",{className:"page-item active",children:Object(j.jsx)("button",{className:"page-link",onClick:function(){return m(n.currentPage)},children:n.currentPage})}),Object(j.jsx)("li",{className:n.teams.length<12?"page-item disabled hide":"page-item",children:Object(j.jsx)("button",{className:"page-link",onClick:function(){return m(n.currentPage+1)},children:n.currentPage+1})}),Object(j.jsx)("li",{className:n.teams.length<12?"page-item hide disabled":"page-item",children:Object(j.jsx)("button",{className:"page-link",onClick:function(){return m(n.currentPage+2)},children:n.currentPage+2})}),Object(j.jsx)("li",{className:n.teams.length<12?"page-item disabled":"page-item",children:Object(j.jsx)("button",{className:"page-link",tabIndex:"+1",onClick:function(){return x("next")},children:"Next"})})]})})})]})})},N=t(23),k=t.n(N);var y=function(){var e={league:{id:null,image_url:"",modified_at:"",name:"",series:[],slug:"",url:"",videogame:{current_version:null,id:null,name:"",slug:""}},team:{acronym:null,current_videogame:{id:null,name:"",slug:""},id:null,image_url:"",location:"",modified_at:"",name:"",players:[],slug:""}},a=Object(c.useState)(e),t=Object(i.a)(a,2),n=t[0],s=t[1],r={method:"GET",url:"https://khalil-el-azouzi.github.io/react-esport/api/"+Object(u.g)().pathname+"?",params:{token:"IwMa-JpTE1gsbo_2rN4vYHJxxWl--XWGfXZijGWRsmK6LvreaMA"},headers:{Accept:"application/json"}},o=Object(u.g)().pathname.includes("league"),m=Object(u.f)(),g=Object(u.g)().pathname;return Object(c.useEffect)((function(){d.a.request(r).then((function(a){s(o?Object(l.a)(Object(l.a)({},n),{},{league:a.data,team:e.team}):Object(l.a)(Object(l.a)({},n),{},{league:e.league,team:a.data}))})).catch((function(e){console.log(e)}))}),[g]),Object(j.jsx)("div",{className:"Game mt-3",children:Object(j.jsx)("div",{className:"col-md-5 ml-auto mr-auto",children:Object(j.jsxs)("div",{className:"card md-3 mt-3 mb-3",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("img",{height:500,width:400,className:"card-img-top",alt:"...",src:n.league.image_url||n.team.image_url||b})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h1",{className:"card-title",children:n.league.name||n.team.name}),Object(j.jsx)("a",{className:n.league.id?"btn":"hide",href:n.league.url,children:Object(j.jsx)("strong",{children:"Site de la league"})}),Object(j.jsxs)("h4",{className:"card-text text-lg",children:["Game : ",n.league.videogame.name||n.team.current_videogame.name]}),Object(j.jsx)("p",{className:"card-text",children:Object(j.jsxs)("small",{className:"text-muted",children:["Last updated at ",k()(n.league.modified_at||n.team.modified_at).format("DD/MM/yyyy hh:mm")]})})]}),Object(j.jsxs)("div",{className:"card-footer",children:[Object(j.jsx)("div",{className:n.league.series.length>0?"":"hide",children:n.league.series.map((function(e){return Object(j.jsxs)("div",{className:"card-text",children:[Object(j.jsx)("h4",{children:e.full_name}),Object(j.jsxs)("h5",{children:["From : ",k()(e.begin_at).format("DD/MM/yyyy hh:mm")," - To : ",k()(e.end_at).format("DD/MM/yyyy hh:mm")||k()(e.modified_at).format("DD/MM/yyyy hh:mm")]}),Object(j.jsx)("div",{className:e.winner_id?"form-group md-auto":"hide",children:Object(j.jsx)("button",{className:"btn btn-link",onClick:function(){m.push("/teams/"+e.winner_id)},children:"! VAINQUEUR !"})}),Object(j.jsx)("hr",{})]},e.id)}))}),Object(j.jsx)("div",{className:n.team.players.length>0?"":"hide",children:Object(j.jsx)("div",{className:"row",children:n.team.players.map((function(e){return Object(j.jsx)("div",{className:"col-md-4 mr-auto ml-auto",children:Object(j.jsx)("h4",{children:Object(j.jsx)("span",{className:"badge badge-info",children:e.name})})},e.id)}))})})]})]})})})};var P=function(){var e=Object(c.useState)(""),a=Object(i.a)(e,2),t=a[0],n=a[1];return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(f.a,{children:[Object(j.jsx)(m,{choosedGame:function(e){n(e)}}),Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(u.b,{exact:!0,path:"/leagues",children:Object(j.jsx)(x,{gameId:t})}),Object(j.jsx)(u.b,{exact:!0,path:"/teams",children:Object(j.jsx)(v,{gameSlug:t})}),Object(j.jsx)(u.b,{exact:!0,path:["/teams/:id","/leagues/:id"],component:y}),Object(j.jsx)(u.b,{path:"/",children:Object(j.jsx)(u.a,{to:"/leagues"})})]})]})})},_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,83)).then((function(a){var t=a.getCLS,c=a.getFID,n=a.getFCP,s=a.getLCP,r=a.getTTFB;t(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(P,{})}),document.getElementById("root")),_()}},[[78,1,2]]]);
//# sourceMappingURL=main.14fdbc7e.chunk.js.map